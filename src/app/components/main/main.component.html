<div class="main container mx-auto max-w-7xl ">    
    <ul *ngIf="!isGridMode" class="movie__list font-mono">
        <li 
            class="movie__item relative border border-2 border-gray-300 rounded-xl my-2 mx-1 p-2 w-7/8 flex flex-col justify-center items-center md:flex-row"
            *ngFor="let movie of moviesList |search:movieTitle |sort:sortDirection |filter:activeGenre |filterbydirector:activeDirector |sortbyactor:activeActor | paginate: { itemsPerPage: 10, currentPage: currentPage }; index as index"
        >
            <div *ngIf="!movie.watched" (click)="checkWatched(movie)" class="check__item absolute p-1 top-0 right-6 m-1 hover:bg-violet-100 cursor-pointer transition-all duration-300">
                <svg width="24" height="24" enable-background="new 0 0 32 32"  id="Слой_1" version="1.1" viewBox="0 0 32 32"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path clip-rule="evenodd" d="M27.704,8.397c-0.394-0.391-1.034-0.391-1.428,0  L11.988,22.59l-6.282-6.193c-0.394-0.391-1.034-0.391-1.428,0c-0.394,0.391-0.394,1.024,0,1.414l6.999,6.899  c0.39,0.386,1.039,0.386,1.429,0L27.704,9.811C28.099,9.421,28.099,8.787,27.704,8.397C27.31,8.006,28.099,8.787,27.704,8.397z" fill="#121313" fill-rule="evenodd" id="Check"/><g/><g/><g/><g/><g/><g/></svg>
            </div>
            <div *ngIf="movie.watched"  (click)="checkWatched(movie)" class="doublecheck__item absolute p-1 top-0 right-6 m-1 hover:bg-violet-100 cursor-pointer transition-all duration-300">                
                <svg width="24" height="24" enable-background="new 0 0 32 32"  id="Слой_1" version="1.1" viewBox="0 0 32 32"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Double_Check"><polygon fill="none" points="22.722,8.293 22.722,8.293 22.722,8.293  "/><polygon fill="#14b8a6" points="31.704,8.293 31.704,8.293 31.704,8.293  "/><path d="M22.722,8.293L22.722,8.293C22.821,8.391,22.919,8.488,22.722,8.293z" fill="#121313"/><path d="M22.722,8.293L22.722,8.293c-0.395-0.391-1.034-0.391-1.429,0L7.006,22.486l-5.282-5.193   c-0.394-0.391-1.034-0.391-1.428,0c-0.394,0.391-0.394,1.024,0,1.414l5.999,5.899c0.39,0.386,1.039,0.386,1.429,0L22.722,9.707   C23.117,9.317,23.116,8.684,22.722,8.293z" fill="#14b8a6"/><path d="M22.722,8.293L22.722,8.293C22.525,8.098,22.623,8.195,22.722,8.293z" fill="#14b8a6"/><path d="M31.704,8.293L31.704,8.293C31.507,8.098,31.606,8.195,31.704,8.293z" fill="#14b8a6"/><path d="M31.704,8.293L31.704,8.293C31.803,8.391,31.901,8.488,31.704,8.293z" fill="#14b8a6"/><path d="M31.704,8.293L31.704,8.293c-0.395-0.391-1.034-0.391-1.429,0L15.988,22.486l-1.282-1.193   c-0.394-0.391-1.034-0.391-1.428,0c-0.394,0.391-0.394,1.024,0,1.414l1.999,1.899c0.39,0.386,1.039,0.386,1.429,0L31.704,9.707   C32.099,9.317,32.099,8.684,31.704,8.293z" fill="#14b8a6"/></g><g/><g/><g/><g/><g/><g/></svg>
            </div>
            <div class="delete__item absolute p-1 top-0 right-0 m-1 hover:bg-violet-100 cursor-pointer transition-all duration-300" (click)="deleteMovie(movie.id)">
                <svg width="24" height="24" enable-background="new 0 0 32 32"  id="Слой_1" version="1.1" viewBox="0 0 32 32"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z" fill="#121313" id="Close"/><g/><g/><g/><g/><g/><g/></svg>
            </div>
            <div class="item__left w-full md:w-1/4 md:ml-2 md:mr-4">
                <div class="stars__inner absolute top-3 left-3">
                    <star-rating [starType]="'svg'" [rating]="movie.myRating" (ratingChange)="onRatingChange($event, movie.id)"></star-rating>                    
                </div>
                <h2 class="movie__title text-3xl lg:text-4xl text-center md:text-left font-bold mt-6 mb-4 border-b-2 border-solid border-gray-300 pb-2 text-violet-900">{{movie.title}}</h2>
                <div class="date__rating-inner w-full flex justify-between text-xl mb-4 md:flex-wrap ">
                    <p class="date font-bold">{{movie.year}}</p>
                    <p class="rating">IMDb rating: <span class="font-bold">{{movie.imdbRating | number: "1.1"}}</span></p>
                </div>
                <ul class="genre__list flex mx-auto mb-2 md:flex-wrap lg:text-xl">
                    <li 
                        class="genre__item mx-2 rounded-lg py-1 px-2 border border-solid border-1 border-gray-300 cursor-pointer hover:bg-violet-100 transition-all duration-300 mb-2"
                        *ngFor="let genre of movie.genres"                        
                        (click)="changeActiveGenre(genre)"
                        [ngClass]="{
                            'bg-violet-100': genre === activeGenre                            
                          }"
                    >{{genre}}</li>                    
                </ul>
            </div>                

            <div class="img__inner w-full md:w-1/4 mx-2">
                <img class="w-full" src={{movie.poster}} alt="img">
            </div>                

            <div class="item__right md:w-1/2 md:mx-2 p-2 flex flex-col">
                <h2 class="movie__title text-center md:text-left text-xl lg:text-2xl font-bold my-2 border-b-2 border-solid border-gray-300 pb-2 text-violet-900 ">Director: 
                    <span 
                        *ngFor="let director of movie.director; index as index" 
                        class="cursor-pointer hover:text-teal-700 transition-all duration-300"
                        (click)="changeActiveDirector(director)"
                        [ngClass]="{
                            'text-teal-700': director === activeDirector
                          }"
                    >
                        {{ (index>0) ? " * " + director : director }}
                    </span> 
                </h2>
                <div class="actors__inner mx-auto md:mx-0 text-center md:text-left border-b-2 border-solid border-gray-300 pb-2 mb-2 items-center flex">
                    <ul class="actors__list text-xl lg:text-2xl font-bold text-violet-900 inline">
                        <li 
                            *ngFor="let actor of movie.actors; index as index" 
                            class="actors__item hover:text-teal-700 transition-all duration-300 cursor-pointer inline"
                            (click)="changeActiveActor(actor)"
                            [ngClass]="{
                                'text-teal-700': actor === activeActor
                            }"
                        > 
                            {{ (index>0) ? " * " + actor : actor }}
                        </li>                        
                    </ul>
                </div>
                <p class="plot text-center md:text-left lg:text-xl">{{movie.plot}}</p>
            </div>                
        </li>
    </ul>
    <ul *ngIf="isGridMode" class="movie__list font-mono flex flex-wrap justify-center">
        <li 
            class="movie__grid border border-2 border-gray-300 rounded-xl my-4 mx-2 px-2 pt-10 pb-2 w-68 text-center relative"
            *ngFor="let movie of (moviesList |search:movieTitle |sort:sortDirection |filter:activeGenre |filterbydirector:activeDirector |sortbyactor:activeActor) | paginate: { itemsPerPage: 10, currentPage: currentPage }; index as index"
        >
            <div *ngIf="!movie.watched" (click)="checkWatched(movie)" class="check__item absolute p-1 top-0 right-6 m-1 hover:bg-violet-100 cursor-pointer transition-all duration-300">
                <svg width="24" height="24" enable-background="new 0 0 32 32"  id="Слой_1" version="1.1" viewBox="0 0 32 32"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path clip-rule="evenodd" d="M27.704,8.397c-0.394-0.391-1.034-0.391-1.428,0  L11.988,22.59l-6.282-6.193c-0.394-0.391-1.034-0.391-1.428,0c-0.394,0.391-0.394,1.024,0,1.414l6.999,6.899  c0.39,0.386,1.039,0.386,1.429,0L27.704,9.811C28.099,9.421,28.099,8.787,27.704,8.397C27.31,8.006,28.099,8.787,27.704,8.397z" fill="#121313" fill-rule="evenodd" id="Check"/><g/><g/><g/><g/><g/><g/></svg>
            </div>
            <div *ngIf="movie.watched"  (click)="checkWatched(movie)" class="doublecheck__item absolute p-1 top-0 right-6 m-1 hover:bg-violet-100 cursor-pointer transition-all duration-300">                
                <svg width="24" height="24" enable-background="new 0 0 32 32"  id="Слой_1" version="1.1" viewBox="0 0 32 32"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Double_Check"><polygon fill="none" points="22.722,8.293 22.722,8.293 22.722,8.293  "/><polygon fill="#14b8a6" points="31.704,8.293 31.704,8.293 31.704,8.293  "/><path d="M22.722,8.293L22.722,8.293C22.821,8.391,22.919,8.488,22.722,8.293z" fill="#121313"/><path d="M22.722,8.293L22.722,8.293c-0.395-0.391-1.034-0.391-1.429,0L7.006,22.486l-5.282-5.193   c-0.394-0.391-1.034-0.391-1.428,0c-0.394,0.391-0.394,1.024,0,1.414l5.999,5.899c0.39,0.386,1.039,0.386,1.429,0L22.722,9.707   C23.117,9.317,23.116,8.684,22.722,8.293z" fill="#14b8a6"/><path d="M22.722,8.293L22.722,8.293C22.525,8.098,22.623,8.195,22.722,8.293z" fill="#14b8a6"/><path d="M31.704,8.293L31.704,8.293C31.507,8.098,31.606,8.195,31.704,8.293z" fill="#14b8a6"/><path d="M31.704,8.293L31.704,8.293C31.803,8.391,31.901,8.488,31.704,8.293z" fill="#14b8a6"/><path d="M31.704,8.293L31.704,8.293c-0.395-0.391-1.034-0.391-1.429,0L15.988,22.486l-1.282-1.193   c-0.394-0.391-1.034-0.391-1.428,0c-0.394,0.391-0.394,1.024,0,1.414l1.999,1.899c0.39,0.386,1.039,0.386,1.429,0L31.704,9.707   C32.099,9.317,32.099,8.684,31.704,8.293z" fill="#14b8a6"/></g><g/><g/><g/><g/><g/><g/></svg>
            </div>
            <div class="stars__inner absolute top-2 left-2">
                <star-rating [starType]="'svg'" [rating]="movie.myRating" (ratingChange)="onRatingChange($event, movie.id)"></star-rating>                    
            </div>
            <div class="delete__item absolute p-1 top-0 right-0 m-1 hover:bg-violet-100 cursor-pointer transition-all duration-300" (click)="deleteMovie(movie.id)">
                <svg width="24" height="24" enable-background="new 0 0 32 32"  id="Слой_1" version="1.1" viewBox="0 0 32 32"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z" fill="#121313" id="Close"/><g/><g/><g/><g/><g/><g/></svg>
            </div>
            <div class="img__inner">
                <img src="{{movie.poster}}" alt="{{movie.title}}">
            </div>        
            <h5 class="text-lg font-bold w-64 mt-1 leading-tight mx-auto">{{movie.title}}</h5>
            <p class="text-sm">{{movie.year}}</p>        
            <!-- <p class="absolute bottom-1 right-1 text-xs">{{movie.id}}</p> -->
        </li>
    </ul>
    <pagination-controls (pageChange)="currentPage = $event" class="text-right"></pagination-controls>
</div>
